function createConnection(e,t){var n=function(e,t){var n=new RelationEditView({model:t,parent:e,title:"Edit Relation in Table "}),o=new Backbone.BootstrapModal({showFooter:!1,content:n});o.open()};e.on("add",function(){console.log(e.get("sourcenode"));var o=jsPlumb.connect({source:t.get("name"),target:e.get("relatedmodel"),overlays:[["Arrow",{location:1}],["Label",{cssClass:"label",label:e.get("sourcenode")+" "+e.get("relationtype")+" "+e.get("relatedmodel"),location:.3,id:"label"}]]});o.bind("click",function(){n(t,e)});var a=t.get("parent").where({name:e.get("relatedmodel")})[0],l=function(){e.destroy()},c=a.on("destroy",l),r=function(){a.off("destroy",l)};e.set("detachListen",r),e.set("conn",o)}),e.on("change:relationtype",function(){$(e.get("conn").getOverlay("label").canvas).html(e.get("sourcenode")+" "+e.get("relationtype")+" "+e.get("relatedmodel"))}),e.on("change:relatedmodel",function(){e.get("detachListen")(),jsPlumb.detach(e.get("conn"));var o=jsPlumb.connect({source:t.get("name"),target:e.get("relatedmodel"),overlays:[["Arrow",{location:1}],["Label",{cssClass:"label",label:e.get("sourcenode")+" "+e.get("relationtype")+" "+e.get("relatedmodel"),location:.3,id:"label"}]]});o.bind("click",function(){n(t,e)});var a=t.get("parent").where({name:e.get("relatedmodel")})[0],l=function(){e.destroy()},c=a.on("destroy",l),r=function(){a.off("destroy",l)};e.set("detachListen",r),e.set("conn",o)}),e.on("destroy",function(){null!==e.get("conn").connector&&jsPlumb.detach(e.get("conn"))})}